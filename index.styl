body
    background: #d8d8d8;

.invisible
    display: none;

.images
    display: flex;
    margin-top: 15%;
    perspective: 200px;
    transform-style: preserve-3d;

.images_container
    transition-property: transform;
    transition-duration: 2s;

.image
    border: 2px solid #666;
    width: 190px;
    height: 190px;

$fruit = {
    first: 1,
    second: 2,
    third: 3,
    fourth: 4,
    fifth: 5,
    sixth: 6,
    seventh: 7
}
$count = 7

get_tr3d($start, $step, $nom, $curr)
    if $nom < $curr
        translate3d($start + $step * ($curr - $nom - 1), 0, -100px)    
    else
        translate3d($start + $step * ($nom - $curr - 1), 0, -100px)

get_rotY($start, $step, $nom, $curr)
    if $nom < $curr
        rotateY($start - $step * ($curr - $nom - 1))
    else
        rotateY(-1 * $start + $step * ($nom - $curr - 1))
        
get_z-index($nom, $curr)
    if $curr <= $nom
        $count - $nom + 1
    else
        0

$tr3d_val = 300%
$tr3d_step = -45
$rotY_val = 60deg
$rotY_step = 10 

for $name1, $nom1 in $fruit
    for $name2, $nom2 in $fruit
        .{$name1}-fruit-radio:checked ~ .images_{$name2}-fruit
            if $nom2 == $nom1
                transform: translate3d($tr3d_val, 0, 50px) rotateY(0)
            else
                transform: get_tr3d($tr3d_val, $tr3d_step, $nom2, $nom1) get_rotY($rotY_val, $rotY_step, $nom2, $nom1)
            z-index: get_z-index($nom2, $nom1)
    $tr3d_val = $tr3d_val - 100
    $tr3d_step = $tr3d_step + 15
    $rotY_val = $rotY_val + 5
