my_transform(translate_x_percent = 100%, scale_x = .8, left = false)
  if left
    transform translateX(translate_x_percent) rotateY(30deg) scaleX(scale_x)
  else
    transform translateX(translate_x_percent) rotateY(-30deg) scaleX(scale_x)

percentage($decimal)
  $factor = $decimal - 1
  ($factor * 50 + 100) %

$background-color = #FFF

.photo-radio
  display none

.page
  width 100%

.gallery
  position: relative;
  margin: 200px auto;
  width: 150px;
  perspective: 200px;

.vegetable
  background: $background-color;
  margin: 0 auto;
  position: absolute;
  width: 150px;
  box-shadow: 0 5px 30px #808080;
  transition: transform 1.4s ease 0s, left 1.4s ease;

.img
  size 150px auto

.photo-radio_for_
  for $index in (1..6)
    &_1:checked ~ .vegetable_photo_{1 + $index}
      my_transform(percentage($index), 1 - (0.1 * ($index) + 0.1))
      z-index 7 - $index


  for $index in (2..6)
    &_{$index}:checked ~ .vegetable_photo_{$index}
      transform scaleXY(1)
      z-index 6
    &_{$index}:checked ~ .vegetable_photo_{$index+1}
      my_transform()
      z-index 5


  for $index in 1 7
    &_{$index}:checked ~ .vegetable_photo_{$index}
      transform scaleXY(1)
      z-index 7

  for $index in (2..5)
    &_{$index}:checked ~ .vegetable_photo_{$index+2}
      my_transform(150%, .7)
      z-index 4

  for $index in (2..4)
    &_{$index}:checked ~ .vegetable_photo_{$index+3}
      my_transform(200%, .6)
      z-index 3

  for $index in 2 3
    &_{$index}:checked ~ .vegetable_photo_{$index+4}
      my_transform(250%, .5)
      z-index 2

  for $index in 2
    &_{$index}:checked ~ .vegetable_photo_{$index+5}
      my_transform(300%, .4)
      z-index 1

  for $index in (1..6)
    &_{$index+1}:checked ~ .vegetable_photo_{$index}
      my_transform(-100%, .8, true)
      z-index 5

  for $index in (1..5)
    &_{$index+2}:checked ~ .vegetable_photo_{$index}
      my_transform(-150%, .7, true)
      z-index 4

  for $index in (1..4)
    &_{$index+3}:checked ~ .vegetable_photo_{$index}
      my_transform(-200%, .6, true)
      z-index 3

  for $index in (1..3)
    &_{$index+4}:checked ~ .vegetable_photo_{$index}
      my_transform(-250%, .5, true)
      z-index 2

  for $index in 1 2
    &_{$index+5}:checked ~ .vegetable_photo_{$index}
      my_transform(-300%, .4, true)
      z-index 1

  for $index in 1
    &_{$index+6}:checked ~ .vegetable_photo_{$index}
      my_transform(-350%, .3, true)
      z-index 1
